/* src/app/globals.css */
@import "tailwindcss";

/* Theme tokens */
:root {
  --bg-1: #0b1023;
  --bg-2: #0e1330;
  --bg-3: #111827;
  --violet: #8b5cf6;
  --purple: #7c3aed;
  --cyan: #22d3ee;
}

:root { --brand-icon: 40px; } /* change to 20px, 28px, etc. */
:root { --hdr-title-size: 1.5rem; } /* 18px; bump to 1.25rem (20px) or 1.375rem (22px) */

html,
body {
  height: 100%;
}

body {
  background:
    radial-gradient(1200px 800px at 70% -10%, rgba(139, 92, 246, 0.22), transparent 60%),
    radial-gradient(900px 600px at -10% 30%, rgba(34, 211, 238, 0.16), transparent 55%),
    linear-gradient(135deg, var(--bg-1), var(--bg-2) 40%, var(--bg-3));
  color: rgb(226 232 240);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* Custom utilities as Tailwind component layer */
@layer components {
  /* Glassy card */
  .sg-card {
    @apply relative rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md shadow-[0_10px_30px_rgba(2,6,23,.35)];
  }

  /* Aurora gradient background layer */
  .aurora-bg {
    background: radial-gradient(ellipse at top left, rgba(139, 92, 246, 0.15), transparent 60%),
      radial-gradient(ellipse at bottom right, rgba(34, 211, 238, 0.12), transparent 60%);
  }

  /* Subtle noise overlay */
  .noise-overlay {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    opacity: 0.05;
  }

  /* Neon focus ring */
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/60;
  }

  /* Glow border (for hover states, selected cards, etc.) */
  .glow-ring {
    box-shadow: 0 0 6px rgba(34, 211, 238, 0.4), 0 0 12px rgba(139, 92, 246, 0.3);
  }

  /* Skeleton shimmer */
  .skeleton {
    @apply animate-pulse rounded-md bg-white/10;
    background-image: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.07),
      transparent
    );
    background-size: 200% 100%;
    background-repeat: no-repeat;
  }
}

/* === AppShell container + buttons === */
@layer components {
  .sg-container { @apply mx-auto max-w-6xl px-4 md:px-6; }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl border border-white/10 bg-white/5 text-slate-100
           px-3.5 py-2 text-sm font-medium shadow-[0_6px_20px_rgba(2,6,23,.25)] transition-colors;
  }
  .btn:hover { @apply bg-white/10 border-white/15; }
  .btn:focus-visible { @apply outline-none ring-2 ring-cyan-500/60; }

  .btn-primary { @apply bg-cyan-600 hover:bg-cyan-500; }
  .btn-emerald { @apply bg-emerald-600 hover:bg-emerald-500; }
  .btn-danger  { @apply bg-rose-600 hover:bg-rose-500; }
  .btn-outline { @apply bg-transparent border-white/20 hover:border-white/30; }
  .btn-ghost   { @apply bg-white/0 hover:bg-white/5; }

  .btn-sm { @apply px-3 py-1.5 text-xs rounded-lg; }
  .btn-lg { @apply px-4 py-2 text-base rounded-xl; }
}

/* ==== Chart glow helpers (SVG-friendly) ==== */
.sg-glow-violet { filter: drop-shadow(0 0 6px rgba(139,92,246,.45)) drop-shadow(0 0 14px rgba(139,92,246,.25)); }
.sg-glow-cyan   { filter: drop-shadow(0 0 6px rgba(34,211,238,.45)) drop-shadow(0 0 14px rgba(34,211,238,.25)); }

/* Slightly brighter axes/ticks for dark BG */
.recharts-cartesian-axis-tick-value { fill: rgba(248,250,252,0.82) !important; }
.recharts-cartesian-axis-line { stroke: rgba(255,255,255,0.18) !important; }
.recharts-cartesian-grid-vertical, .recharts-cartesian-grid-horizontal { stroke: rgba(255,255,255,0.08) !important; }

/* Ensure main content is always interactive */
.pe-auto { pointer-events: auto; }

/* --- hard safety: backgrounds + container pseudo-layers never intercept clicks --- */
[class*="aurora"], .aurora-layer, .bg-layer {
  pointer-events: none !important;
}

.sg-container::before,
.sg-container::after {
  pointer-events: none !important;
  z-index: 0 !important;
}

/* === Step 3 additions: Avatar blend (deframes the image & seats it into BG) === */
@layer components {
  .avatar-blend img {
    /* Soft mask to remove the hard rectangular frame */
    -webkit-mask-image: radial-gradient(68% 76% at 50% 50%, #000 72%, transparent 100%);
            mask-image: radial-gradient(68% 76% at 50% 50%, #000 72%, transparent 100%);
    /* Blend into the purple background and add a gentle glow */
    mix-blend-mode: screen;
    filter: drop-shadow(0 0 40px rgba(138,77,255,.28));
  }
}

/* === Hero avatar image blend (PNG with dark BG â†’ seamless) === */
@layer components {
  .hero-img img {
    /* Feather the edges so the rectangle disappears */
    -webkit-mask-image: radial-gradient(80% 95% at 70% 55%, #000 72%, transparent 100%);
            mask-image: radial-gradient(80% 95% at 70% 55%, #000 72%, transparent 100%);
    /* Blend the highlights over the dark background */
    mix-blend-mode: screen;
    opacity: 0.82;
    /* Soft glow matching brand violet */
    filter: drop-shadow(0 0 60px rgba(138,77,255,.35));
  }
}

/* === Hero avatar vertical offset via CSS variables (Option B) === */
.sg-hero-ty { transform: translateY(var(--ty, 0)); }

@media (min-width: 768px) {
  .md\:sg-hero-ty { transform: translateY(var(--ty-md, var(--ty, 0))); }
}
@media (min-width: 1024px) {
  .lg\:sg-hero-ty { transform: translateY(var(--ty-lg, var(--ty-md, var(--ty, 0)))); }
}
